<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹ØµØ§Ø¨Ø© Ø²ÙŠØ§Ø¯ - Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø§ÙÙŠØ§</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #1a1f2e;
            --primary: #2d3748;
            --secondary: #4a5568;
            --accent: #e53e3e;
            --accent-dark: #c53030;
            --citizen: #3182ce;
            --mafia: #e53e3e;
            --doctor: #38a169;
            --detective: #805ad5;
            --sniper: #dd6b20;
            --godfather: #9c4221;
            --online: #9b59b6;
            --text: #f7fafc;
            --text-secondary: #e2e8f0;
            --success: #48bb78;
            --warning: #ed8936;
            --night: #2c3e50;
            --day: #3498db;
            --card-bg: rgba(45, 55, 72, 0.8);
            --modal-bg: rgba(26, 32, 44, 0.95);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 20px;
            padding: 20px 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            flex: 1;
        }

        .logo-icon {
            font-size: 2rem;
            color: var(--accent);
        }

        .logo-text h1 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--accent), var(--warning));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
            margin-bottom: 3px;
        }

        .logo-text p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .copyright {
            text-align: center;
            margin-top: 8px;
            color: var(--text-secondary);
            font-size: 0.8rem;
            width: 100%;
        }

        .controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text);
            width: 44px;
            height: 44px;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .section {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section.hidden {
            display: none;
        }

        .section-title {
            font-size: 1.6rem;
            color: var(--text);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--accent);
        }

        /* Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† */
        .player-input-container {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .player-input {
            flex: 1;
            min-width: 200px;
        }

        .player-input input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .player-input input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.1);
        }

        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent), var(--accent-dark));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(229, 62, 62, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--citizen), #2c5aa0);
            color: white;
        }

        .btn-online {
            background: linear-gradient(135deg, var(--online), #8e44ad);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .btn-online::after {
            content: "Ù‚Ø±ÙŠØ¨Ø§Ù‹";
            position: absolute;
            top: -5px;
            left: -5px;
            background: var(--accent);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .btn-back {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
        }

        .btn-back:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(100, 100, 100, 0.3);
        }

        .btn-skip {
            background: linear-gradient(135deg, var(--warning), #e67e22);
            color: white;
        }

        .btn-skip:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(237, 137, 54, 0.3);
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† */
        .player-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .player-tag {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            padding: 10px 16px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .player-tag button {
            background: none;
            border: none;
            color: var(--accent);
            cursor: pointer;
            font-size: 1rem;
        }

        /* Ù‚Ø³Ù… ÙˆØµÙ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª */
        .characters-section {
            margin-top: 30px;
        }

        .characters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .character-card {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .character-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--role-color, var(--accent));
        }

        .character-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .character-card.mafia { --role-color: var(--mafia); }
        .character-card.godfather { --role-color: var(--godfather); }
        .character-card.citizen { --role-color: var(--citizen); }
        .character-card.doctor { --role-color: var(--doctor); }
        .character-card.detective { --role-color: var(--detective); }
        .character-card.sniper { --role-color: var(--sniper); }

        .character-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .character-icon {
            font-size: 2.5rem;
            color: var(--role-color, var(--accent));
        }

        .character-name {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text);
        }

        .character-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .character-details {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            border-right: 3px solid var(--role-color, var(--accent));
        }

        .character-details.hidden {
            display: none;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .detail-item:last-child {
            margin-bottom: 0;
        }

        .detail-icon {
            color: var(--role-color, var(--accent));
            font-size: 0.9rem;
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ø¯ÙˆØ± */
        .role-section {
            text-align: center;
            padding: 30px;
        }

        .role-icon-large {
            font-size: 5rem;
            margin-bottom: 20px;
            color: var(--role-color, var(--accent));
        }

        .role-title {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .role-description {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        .player-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 30px;
            color: var(--accent);
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .phase-indicator {
            font-size: 2rem;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 50px;
            margin-bottom: 20px;
            display: inline-block;
        }

        .phase-night {
            background: linear-gradient(135deg, var(--night), #1a2530);
            color: white;
        }

        .phase-day {
            background: linear-gradient(135deg, var(--day), #2980b9);
            color: white;
        }

        .timer {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
            color: var(--accent);
        }

        .players-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .player-card {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .player-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .player-card.selected {
            border-color: var(--accent);
            background: linear-gradient(135deg, var(--accent), var(--accent-dark));
        }

        .player-card.dead {
            opacity: 0.5;
            background: linear-gradient(135deg, #666, #444);
        }

        .player-role {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .vote-count {
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            margin: 5px auto 0;
        }

        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--modal-bg);
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--text);
        }

        .modal-message {
            font-size: 1.1rem;
            margin-bottom: 25px;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        /* Ø§Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .logo {
                justify-content: center;
            }

            .player-input-container {
                flex-direction: column;
            }

            .player-input {
                min-width: 100%;
            }

            .characters-grid, .players-grid {
                grid-template-columns: 1fr;
            }

            .character-card, .player-card {
                padding: 15px;
            }

            .game-controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }

        /* Ø±Ø³Ø§Ø¦Ù„ */
        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            animation: slideIn 0.3s ease;
        }

        .message.warning {
            background: var(--warning);
        }

        .message.error {
            background: var(--accent);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙŠÙˆÙ… */
        .results-container {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-right: 4px solid var(--accent);
        }

        .result-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .result-item:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header>
            <div class="header-content">
                <div class="logo" onclick="showGameInfo()">
                    <div class="logo-icon">
                        <i class="fas fa-user-secret"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Ø¹ØµØ§Ø¨Ø© Ø²ÙŠØ§Ø¯</h1>
                        <p>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø§ÙÙŠØ§ ÙˆØ§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†</p>
                    </div>
                </div>
                <div class="controls">
                    <button class="control-btn" id="soundToggle" title="Ø§Ù„ØµÙˆØª">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <button class="control-btn" id="saveBtn" title="Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø©">
                        <i class="fas fa-save"></i>
                    </button>
                </div>
            </div>
            <div class="copyright">
                ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©: Ø²ÙŠØ§Ø¯ Ø§Ù„Ø¹ÙˆÙ†ÙŠ
            </div>
        </header>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ -->
        <section class="section" id="setupSection">
            <h2 class="section-title">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
            
            <div class="player-input-container">
                <div class="player-input">
                    <input type="text" id="playerName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨...">
                </div>
                <button class="btn btn-primary" id="addPlayer">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨
                </button>
            </div>

            <div class="player-list" id="playerList">
                <!-- Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† ÙŠØ¸Ù‡Ø±ÙˆÙ† Ù‡Ù†Ø§ -->
            </div>

            <div class="game-controls">
                <button class="btn btn-primary" id="startGame">
                    <i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
                <button class="btn btn-secondary" id="loadGame">
                    <i class="fas fa-folder-open"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
                <button class="btn btn-online" id="onlineGame">
                    <i class="fas fa-globe"></i> Ø§Ù„Ù„Ø¹Ø¨ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†
                </button>
            </div>

            <!-- Ù‚Ø³Ù… ÙˆØµÙ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª -->
            <div class="characters-section">
                <h2 class="section-title">Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
                <div class="characters-grid" id="charactersGrid">
                    <!-- Ø§Ù„Ø´Ø®ØµÙŠØ§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¬ÙˆØ§Ù„ -->
        <section class="section hidden" id="handoverSection">
            <div class="role-section">
                <div class="role-icon-large">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h2 class="role-title" id="handoverTitle">Ø³Ù„Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„Ù„Ø§Ø¹Ø¨</h2>
                <div class="player-name" id="handoverPlayer"></div>
                <button class="btn btn-primary" id="confirmHandover">
                    <i class="fas fa-check"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
                </button>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆØ± -->
        <section class="section hidden" id="roleDisplaySection">
            <div class="role-section">
                <div class="role-icon-large">
                    <i class="fas" id="roleDisplayIcon"></i>
                </div>
                <h2 class="role-title" id="roleDisplayTitle">Ø¯ÙˆØ±Ùƒ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
                <p class="role-description" id="roleDisplayDescription"></p>
                <div class="player-name" id="roleDisplayPlayer"></div>
                <button class="btn btn-primary" id="nextPlayerRole">
                    <i class="fas fa-arrow-left"></i> Ø§Ù„ØªØ§Ù„ÙŠ
                </button>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© -->
        <section class="section hidden" id="gameSection">
            <div class="game-header">
                <div class="phase-indicator" id="phaseIndicator">Ø§Ù„Ù„ÙŠÙ„</div>
                <div class="timer" id="gameTimer">100</div>
                <h3 id="phaseDescription">Ø¯ÙˆØ± Ø§Ù„Ù…Ø§ÙÙŠØ§: Ø§Ø®ØªÙŠØ§Ø± Ù‡Ø¯Ù Ù„Ù„Ù‚ØªÙ„</h3>
            </div>
            
            <div class="players-grid" id="gamePlayersGrid">
                <!-- Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙŠØ¸Ù‡Ø±ÙˆÙ† Ù‡Ù†Ø§ -->
            </div>
            
            <div class="game-controls">
                <button class="btn btn-primary" id="submitAction">
                    <i class="fas fa-check"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
                </button>
                <button class="btn btn-skip" id="skipAction">
                    <i class="fas fa-forward"></i> ØªØ®Ø·ÙŠ
                </button>
                <button class="btn btn-back" id="endGame">
                    <i class="fas fa-stop"></i> Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙŠÙˆÙ… -->
        <section class="section hidden" id="resultsSection">
            <h2 class="section-title">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙŠÙˆÙ…</h2>
            <div class="results-container" id="resultsContainer">
                <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
            <div class="game-controls">
                <button class="btn btn-primary" id="continueGame">
                    <i class="fas fa-play"></i> Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
            </div>
        </section>
    </div>

    <!-- Ø§Ù„Ù…ÙˆØ¯Ø§Ù„Ø§Øª -->
    <div class="modal" id="infoModal">
        <div class="modal-content">
            <div class="modal-title">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</div>
            <div class="modal-message">
                <strong>Ø¹ØµØ§Ø¨Ø© Ø²ÙŠØ§Ø¯ - Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø§ÙÙŠØ§</strong><br><br>
                Ù„Ø¹Ø¨Ø© Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ØªÙ‚ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„ØªÙÙƒÙŠØ± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„.<br>
                ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø§ÙÙŠØ§ ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„ØªØ®Ù„Øµ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†ØŒ<br>
                ÙˆÙØ±ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ÙŠØ­Ø§ÙˆÙ„ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø§ÙÙŠØ§.
            </div>
            <button class="btn btn-primary" id="closeInfo">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ§Øª
        const characters = [
            {
                id: 'mafia',
                name: 'ğŸ”« Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø§ÙÙŠØ§',
                icon: 'fa-user-secret',
                color: 'mafia',
                description: 'Ø¹Ø¶Ùˆ ÙÙŠ Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ø³Ø±ÙŠØ©ØŒ ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø²Ù…Ù„Ø§Ø¦Ù‡ Ù„Ù„ØªØ®Ù„Øµ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† Ù„ÙŠÙ„Ø§Ù‹.',
                details: [
                    'ÙŠÙ‚ØªÙ„ Ù„Ø§Ø¹Ø¨Ø§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ ÙƒÙ„ Ù„ÙŠÙ„Ø©',
                    'ÙŠØªØ¹Ø§ÙˆÙ† Ù…Ø¹ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†',
                    'ÙŠØ­Ø§ÙˆÙ„ Ø¥Ø®ÙØ§Ø¡ Ù‡ÙˆÙŠØªÙ‡ Ø¹Ù† Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†'
                ]
            },
            {
                id: 'godfather',
                name: 'ğŸ’ Ø²Ø¹ÙŠÙ… Ø§Ù„Ù…Ø§ÙÙŠØ§',
                icon: 'fa-crown',
                color: 'godfather',
                description: 'Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ù„Ù„Ù…Ø§ÙÙŠØ§ØŒ ÙŠØ¸Ù‡Ø± ÙƒÙ…ÙˆØ§Ø·Ù† Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù‚ÙŠÙ‚ ÙˆÙŠÙ‚ÙˆØ¯ ÙØ±ÙŠÙ‚Ù‡ Ù†Ø­Ùˆ Ø§Ù„Ù†ØµØ±.',
                details: [
                    'ÙŠØ¸Ù‡Ø± ÙƒÙ…ÙˆØ§Ø·Ù† Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù‚ÙŠÙ‚ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø­Ù‚Ù‚',
                    'ÙŠÙ‚ÙˆØ¯ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù‚ØªÙ„ Ø§Ù„Ù„ÙŠÙ„ÙŠ',
                    'Ø§Ù„Ø£ÙƒØ«Ø± Ø®Ø·ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©'
                ]
            },
            {
                id: 'citizen',
                name: 'ğŸ‘¤ Ø§Ù„Ù…ÙˆØ§Ø·Ù†',
                icon: 'fa-user',
                color: 'citizen',
                description: 'Ù…ÙˆØ§Ø·Ù† Ø¹Ø§Ø¯ÙŠ Ù„Ø§ ÙŠÙ…Ù„Ùƒ Ù‚Ø¯Ø±Ø§Øª Ø®Ø§ØµØ©ØŒ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø§ÙÙŠØ§.',
                details: [
                    'Ù„Ø§ ÙŠÙ…Ù„Ùƒ Ù‚Ø¯Ø±Ø§Øª Ø®Ø§ØµØ©',
                    'ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ù…Ù†Ø§Ù‚Ø´Ø©',
                    'ÙŠØµÙˆØª Ù„Ø§ÙƒØªØ´Ø§Ù ÙˆØ¥Ø¹Ø¯Ø§Ù… Ø§Ù„Ù…Ø§ÙÙŠØ§'
                ]
            },
            {
                id: 'detective',
                name: 'ğŸ•µï¸ Ø§Ù„Ù…Ø­Ù‚Ù‚',
                icon: 'fa-search',
                color: 'detective',
                description: 'Ù…Ø­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø·Ø© Ø§Ù„Ø³Ø±ÙŠØŒ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‡ÙˆÙŠØ© Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ ÙƒÙ„ Ù„ÙŠÙ„Ø© Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø§ÙÙŠØ§.',
                details: [
                    'ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ù‡ÙˆÙŠØ© Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ ÙƒÙ„ Ù„ÙŠÙ„Ø©',
                    'ÙŠØ¸Ù‡Ø± Ù„Ù‡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø£Ù… Ù„Ø§',
                    'ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ÙÙŠ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø§ÙÙŠØ§'
                ]
            },
            {
                id: 'doctor',
                name: 'ğŸ‘¨â€âš•ï¸ Ø§Ù„Ø·Ø¨ÙŠØ¨',
                icon: 'fa-heartbeat',
                color: 'doctor',
                description: 'Ø·Ø¨ÙŠØ¨ Ø§Ù„Ø¨Ù„Ø¯Ø© Ø§Ù„Ù…Ø§Ù‡Ø±ØŒ ÙŠÙ…ÙƒÙ†Ù‡ Ø¥Ù†Ù‚Ø§Ø° Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ ÙƒÙ„ Ù„ÙŠÙ„Ø© Ù…Ù† Ù‚ØªÙ„ Ø§Ù„Ù…Ø§ÙÙŠØ§.',
                details: [
                    'ÙŠÙ†Ù‚Ø° Ù„Ø§Ø¹Ø¨Ø§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ ÙƒÙ„ Ù„ÙŠÙ„Ø© Ù…Ù† Ø§Ù„Ù‚ØªÙ„',
                    'ÙŠÙ…ÙƒÙ†Ù‡ Ø¥Ù†Ù‚Ø§Ø° Ù†ÙØ³Ù‡',
                    'ÙŠØ­Ø§ÙˆÙ„ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ù…Ù‡Ù…Ø©'
                ]
            },
            {
                id: 'sniper',
                name: 'ğŸ¯ Ø§Ù„Ù‚Ù†Ø§Øµ',
                icon: 'fa-crosshairs',
                color: 'sniper',
                description: 'Ù‚Ù†Ø§Øµ Ù…Ø­ØªØ±Ù ÙŠÙ…Ù„Ùƒ Ø±ØµØ§ØµØ© ÙˆØ§Ø­Ø¯Ø© ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ø®Ù„Ø§Ù„ Ø§Ù„Ù†Ù‡Ø§Ø± Ù„Ù‚ØªÙ„ Ù…Ø´ØªØ¨Ù‡ Ø¨Ù‡.',
                details: [
                    'ÙŠÙ…Ù„Ùƒ Ø±ØµØ§ØµØ© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©',
                    'ÙŠØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø®Ù„Ø§Ù„ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø±',
                    'ÙŠÙ…ÙƒÙ†Ù‡ Ù‚ØªÙ„ Ù„Ø§Ø¹Ø¨ ÙŠØ´ØªØ¨Ù‡ Ø£Ù†Ù‡ Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§'
                ]
            }
        ];

        // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        let gameState = {
            players: [],
            soundEnabled: true,
            currentSection: 'setup',
            rolesAssigned: false,
            currentPlayerIndex: 0,
            gamePhase: 'night',
            currentRoleAction: 'mafia',
            timer: 100,
            timerInterval: null,
            selectedPlayer: null,
            votes: {},
            killedTonight: null,
            savedTonight: null,
            investigatedTonight: null,
            sniperBullet: true,
            dayResults: [],
            votedPlayers: new Set()
        };

        // Ø¹Ù†Ø§ØµØ± DOM
        const setupSection = document.getElementById('setupSection');
        const handoverSection = document.getElementById('handoverSection');
        const roleDisplaySection = document.getElementById('roleDisplaySection');
        const gameSection = document.getElementById('gameSection');
        const resultsSection = document.getElementById('resultsSection');
        const playerNameInput = document.getElementById('playerName');
        const addPlayerBtn = document.getElementById('addPlayer');
        const playerList = document.getElementById('playerList');
        const startGameBtn = document.getElementById('startGame');
        const charactersGrid = document.getElementById('charactersGrid');
        const soundToggle = document.getElementById('soundToggle');
        const saveBtn = document.getElementById('saveBtn');
        const loadGameBtn = document.getElementById('loadGame');
        const onlineGameBtn = document.getElementById('onlineGame');
        const confirmHandoverBtn = document.getElementById('confirmHandover');
        const nextPlayerRoleBtn = document.getElementById('nextPlayerRole');
        const submitActionBtn = document.getElementById('submitAction');
        const skipActionBtn = document.getElementById('skipAction');
        const endGameBtn = document.getElementById('endGame');
        const continueGameBtn = document.getElementById('continueGame');
        const phaseIndicator = document.getElementById('phaseIndicator');
        const gameTimer = document.getElementById('gameTimer');
        const phaseDescription = document.getElementById('phaseDescription');
        const gamePlayersGrid = document.getElementById('gamePlayersGrid');
        const roleDisplayIcon = document.getElementById('roleDisplayIcon');
        const roleDisplayTitle = document.getElementById('roleDisplayTitle');
        const roleDisplayDescription = document.getElementById('roleDisplayDescription');
        const roleDisplayPlayer = document.getElementById('roleDisplayPlayer');
        const handoverTitle = document.getElementById('handoverTitle');
        const handoverPlayer = document.getElementById('handoverPlayer');
        const resultsContainer = document.getElementById('resultsContainer');

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function initGame() {
            setupEventListeners();
            displayCharacters();
            updateUI();
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            addPlayerBtn.addEventListener('click', addPlayer);
            playerNameInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addPlayer();
            });
            
            startGameBtn.addEventListener('click', startGame);
            soundToggle.addEventListener('click', toggleSound);
            saveBtn.addEventListener('click', saveGame);
            loadGameBtn.addEventListener('click', loadGame);
            onlineGameBtn.addEventListener('click', showOnlineMessage);
            confirmHandoverBtn.addEventListener('click', showPlayerRole);
            nextPlayerRoleBtn.addEventListener('click', showNextPlayerRole);
            submitActionBtn.addEventListener('click', submitAction);
            skipActionBtn.addEventListener('click', skipAction);
            endGameBtn.addEventListener('click', endGame);
            continueGameBtn.addEventListener('click', continueFromResults);

            // Ø¥ØºÙ„Ø§Ù‚ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
            document.getElementById('closeInfo').onclick = () => {
                document.getElementById('infoModal').style.display = 'none';
            };
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª
        function displayCharacters() {
            charactersGrid.innerHTML = '';
            characters.forEach(character => {
                const characterCard = document.createElement('div');
                characterCard.className = `character-card ${character.color}`;
                characterCard.innerHTML = `
                    <div class="character-header">
                        <div class="character-icon">
                            <i class="fas ${character.icon}"></i>
                        </div>
                        <div class="character-name">${character.name}</div>
                    </div>
                    <div class="character-description">${character.description}</div>
                    <div class="character-details hidden">
                        ${character.details.map(detail => `
                            <div class="detail-item">
                                <i class="fas fa-circle detail-icon"></i>
                                <span>${detail}</span>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                characterCard.addEventListener('click', function() {
                    const details = this.querySelector('.character-details');
                    details.classList.toggle('hidden');
                    
                    document.querySelectorAll('.character-card').forEach(card => {
                        if (card !== this) {
                            card.querySelector('.character-details').classList.add('hidden');
                        }
                    });
                });
                
                charactersGrid.appendChild(characterCard);
            });
        }

        // Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨
        function addPlayer() {
            const name = playerNameInput.value.trim();
            if (name && gameState.players.length < 12) {
                gameState.players.push({
                    id: Date.now(),
                    name: name,
                    role: null,
                    alive: true,
                    votes: 0
                });
                playerNameInput.value = '';
                updatePlayerList();
                playSound('add');
            } else if (gameState.players.length >= 12) {
                showMessage('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† 12 Ù„Ø§Ø¹Ø¨');
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
        function updatePlayerList() {
            playerList.innerHTML = '';
            gameState.players.forEach(player => {
                const playerTag = document.createElement('div');
                playerTag.className = 'player-tag';
                playerTag.innerHTML = `
                    <span>${player.name}</span>
                    <button onclick="removePlayer(${player.id})">Ã—</button>
                `;
                playerList.appendChild(playerTag);
            });
        }

        // Ø¥Ø²Ø§Ù„Ø© Ù„Ø§Ø¹Ø¨
        function removePlayer(id) {
            gameState.players = gameState.players.filter(p => p.id !== id);
            updatePlayerList();
            playSound('remove');
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            if (gameState.players.length >= 4) {
                assignRoles();
            } else {
                showMessage('ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 4 Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©');
            }
        }

        // ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
        function assignRoles() {
            const shuffledPlayers = [...gameState.players].sort(() => Math.random() - 0.5);
            const roles = ['godfather', 'mafia', 'detective', 'doctor', 'sniper'];
            const availableRoles = [...roles];
            
            while (availableRoles.length < shuffledPlayers.length) {
                availableRoles.push('citizen');
            }
            
            shuffledPlayers.forEach((player, index) => {
                player.role = availableRoles[index] || 'citizen';
            });
            
            gameState.rolesAssigned = true;
            showMessage('âœ… ØªÙ… ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø¨Ù†Ø¬Ø§Ø­');
            playSound('success');
            
            setTimeout(() => {
                startPlayerHandover();
            }, 1500);
        }

        // Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
        function startPlayerHandover() {
            gameState.currentPlayerIndex = 0;
            showNextHandover();
        }

        // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„ØªØ§Ù„ÙŠ
        function showNextHandover() {
            const player = gameState.players[gameState.currentPlayerIndex];
            handoverPlayer.textContent = player.name;
            showSection('handover');
        }

        // Ø¹Ø±Ø¶ Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
        function showPlayerRole() {
            const player = gameState.players[gameState.currentPlayerIndex];
            const character = characters.find(c => c.id === player.role);
            
            roleDisplayIcon.className = `fas ${character.icon}`;
            roleDisplayIcon.style.color = `var(--${character.color})`;
            roleDisplayTitle.textContent = character.name;
            roleDisplayDescription.textContent = character.description;
            roleDisplayPlayer.textContent = player.name;
            
            showSection('roleDisplay');
        }

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„ØªØ§Ù„ÙŠ
        function showNextPlayerRole() {
            gameState.currentPlayerIndex++;
            
            if (gameState.currentPlayerIndex < gameState.players.length) {
                showNextHandover();
            } else {
                startGameplay();
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„ÙØ¹Ù„ÙŠ
        function startGameplay() {
            showSection('game');
            startNightPhase();
        }

        // Ø¨Ø¯Ø¡ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù„ÙŠÙ„
        function startNightPhase() {
            gameState.gamePhase = 'night';
            gameState.currentRoleAction = 'mafia';
            gameState.selectedPlayer = null;
            gameState.killedTonight = null;
            gameState.savedTonight = null;
            gameState.investigatedTonight = null;
            gameState.votedPlayers.clear();
            gameState.votes = {};
            
            updateGamePhaseUI();
            startTimer(100);
        }

        // Ø¨Ø¯Ø¡ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø±
        function startDayPhase() {
            gameState.gamePhase = 'day';
            gameState.currentRoleAction = 'discussion';
            gameState.selectedPlayer = null;
            gameState.votes = {};
            gameState.dayResults = [];
            
            applyNightResults();
            
            if (checkGameEnd()) {
                return;
            }
            
            updateGamePhaseUI();
            startTimer(100);
        }

        // ØªØ·Ø¨ÙŠÙ‚ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù„ÙŠÙ„
        function applyNightResults() {
            // Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù‚ÙŠÙ‚ (ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ù„Ù„Ù…Ø­Ù‚Ù‚)
            if (gameState.investigatedTonight) {
                const investigatedPlayer = gameState.players.find(p => p.id === gameState.investigatedTonight);
                if (investigatedPlayer) {
                    const isMafia = investigatedPlayer.role === 'mafia' || investigatedPlayer.role === 'godfather';
                    const result = isMafia ? 'Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§' : 'Ù„ÙŠØ³ Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§';
                    
                    const detective = gameState.players.find(p => p.role === 'detective' && p.alive);
                    if (detective) {
                        gameState.dayResults.push({
                            type: 'investigation',
                            player: investigatedPlayer.name,
                            result: result,
                            forDetective: true
                        });
                    }
                }
            }
            
            // Ø¥Ø°Ø§ ØªÙ… Ø¥Ù†Ù‚Ø§Ø° Ø§Ù„Ù‚ØªÙŠÙ„
            if (gameState.killedTonight && gameState.savedTonight === gameState.killedTonight) {
                const savedPlayer = gameState.players.find(p => p.id === gameState.killedTonight);
                if (savedPlayer) {
                    gameState.dayResults.push({
                        type: 'saved',
                        player: savedPlayer.name
                    });
                }
                gameState.killedTonight = null;
            }
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚ØªÙ„ Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ù†Ù‚Ø§Ø°
            if (gameState.killedTonight) {
                const killedPlayer = gameState.players.find(p => p.id === gameState.killedTonight);
                if (killedPlayer) {
                    killedPlayer.alive = false;
                    gameState.dayResults.push({
                        type: 'killed',
                        player: killedPlayer.name,
                        role: getRoleName(killedPlayer.role),
                        by: 'Ø§Ù„Ù…Ø§ÙÙŠØ§'
                    });
                    
                    if (checkGameEnd()) {
                        return;
                    }
                }
            }
            
            if (gameState.dayResults.length > 0) {
                showDayResults();
            } else {
                updateGamePhaseUI();
                startTimer(100);
            }
        }

        // Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙŠÙˆÙ…
        function showDayResults() {
            resultsContainer.innerHTML = '';
            
            gameState.dayResults.forEach(result => {
                if (result.forDetective) return;
                
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                
                let icon = '';
                let text = '';
                
                switch(result.type) {
                    case 'killed':
                        icon = 'ğŸ’€';
                        text = `Ø§Ù„Ù…Ø§ÙÙŠØ§ Ù‚ØªÙ„Øª ${result.player} (${result.role})`;
                        break;
                    case 'saved':
                        icon = 'ğŸ›¡ï¸';
                        text = `Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø£Ù†Ù‚Ø° ${result.player}`;
                        break;
                    case 'voted':
                        icon = 'ğŸ”¨';
                        text = `ØªÙ… Ø¥Ø¹Ø¯Ø§Ù… ${result.player} (${result.role}) Ø¨Ø§Ù„ØªØµÙˆÙŠØª`;
                        break;
                    case 'sniper':
                        icon = 'ğŸ¯';
                        text = `Ø§Ù„Ù‚Ù†Ø§Øµ Ù‚ØªÙ„ ${result.player} (${result.role})`;
                        break;
                }
                
                resultItem.innerHTML = `
                    <span>${icon}</span>
                    <span>${text}</span>
                `;
                
                resultsContainer.appendChild(resultItem);
            });
            
            showSection('results');
        }

        // Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¹Ø¯ Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function continueFromResults() {
            showSection('game');
            updateGamePhaseUI();
            
            if (gameState.gamePhase === 'day') {
                if (gameState.currentRoleAction === 'discussion') {
                    startTimer(100);
                }
            }
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function updateGamePhaseUI() {
            phaseIndicator.textContent = gameState.gamePhase === 'night' ? 'Ø§Ù„Ù„ÙŠÙ„' : 'Ø§Ù„Ù†Ù‡Ø§Ø±';
            phaseIndicator.className = `phase-indicator ${gameState.gamePhase === 'night' ? 'phase-night' : 'phase-day'}`;
            
            let description = '';
            if (gameState.gamePhase === 'night') {
                switch (gameState.currentRoleAction) {
                    case 'mafia': description = 'Ø¯ÙˆØ± Ø§Ù„Ù…Ø§ÙÙŠØ§: Ø§Ø®ØªÙŠØ§Ø± Ù‡Ø¯Ù Ù„Ù„Ù‚ØªÙ„'; break;
                    case 'doctor': description = 'Ø¯ÙˆØ± Ø§Ù„Ø·Ø¨ÙŠØ¨: Ø§Ø®ØªÙŠØ§Ø± Ù„Ø§Ø¹Ø¨ Ù„Ø¥Ù†Ù‚Ø§Ø°Ù‡'; break;
                    case 'detective': description = 'Ø¯ÙˆØ± Ø§Ù„Ù…Ø­Ù‚Ù‚: Ø§Ø®ØªÙŠØ§Ø± Ù„Ø§Ø¹Ø¨ Ù„Ù„ØªØ­Ù‚ÙŠÙ‚'; break;
                }
            } else {
                switch (gameState.currentRoleAction) {
                    case 'discussion': description = 'Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ù‚Ø§Ø´: Ù†Ø§Ù‚Ø´ÙˆØ§ Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø´ØªØ¨Ù‡ Ø¨Ù‡Ù…'; break;
                    case 'voting': description = 'Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØµÙˆÙŠØª: ØµÙˆØªÙˆØ§ Ø¹Ù„Ù‰ Ù…Ù† ØªØ±ÙŠØ¯ÙˆÙ† Ø¥Ø¹Ø¯Ø§Ù…Ù‡'; break;
                    case 'sniper': description = 'Ø¯ÙˆØ± Ø§Ù„Ù‚Ù†Ø§Øµ: Ø§Ø®ØªÙŠØ§Ø± Ù‡Ø¯Ù Ù„Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø§Ø±'; break;
                }
            }
            phaseDescription.textContent = description;
            
            updateGamePlayersGrid();
            
            submitActionBtn.style.display = (gameState.currentRoleAction === 'discussion') ? 'none' : 'inline-flex';
            skipActionBtn.style.display = 'inline-flex';
        }

        // ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function updateGamePlayersGrid() {
            gamePlayersGrid.innerHTML = '';
            
            const alivePlayers = gameState.players.filter(p => p.alive);
            
            alivePlayers.forEach(player => {
                const character = characters.find(c => c.id === player.role);
                const playerCard = document.createElement('div');
                playerCard.className = `player-card ${player.id === gameState.selectedPlayer ? 'selected' : ''}`;
                playerCard.dataset.playerId = player.id;
                
                let roleText = '';
                if (gameState.gamePhase === 'day' && gameState.currentRoleAction === 'voting') {
                    roleText = `Ø§Ù„Ø£ØµÙˆØ§Øª: ${gameState.votes[player.id] || 0}`;
                }
                
                playerCard.innerHTML = `
                    <div>${player.name}</div>
                    <div class="player-role">${roleText}</div>
                    ${gameState.gamePhase === 'day' && gameState.currentRoleAction === 'voting' ? `<div class="vote-count">${gameState.votes[player.id] || 0}</div>` : ''}
                `;
                
                playerCard.addEventListener('click', () => selectPlayer(player.id));
                gamePlayersGrid.appendChild(playerCard);
            });
            
            const deadPlayers = gameState.players.filter(p => !p.alive);
            deadPlayers.forEach(player => {
                const playerCard = document.createElement('div');
                playerCard.className = 'player-card dead';
                playerCard.innerHTML = `
                    <div>${player.name}</div>
                    <div class="player-role">ğŸ’€ ${getRoleName(player.role)}</div>
                `;
                gamePlayersGrid.appendChild(playerCard);
            });
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ù„Ø§Ø¹Ø¨
        function selectPlayer(playerId) {
            if (gameState.currentRoleAction === 'discussion') return;
            
            const player = gameState.players.find(p => p.id === playerId);
            if (!player || !player.alive) return;
            
            // Ù…Ù†Ø¹ Ø§Ù„Ù…Ø§ÙÙŠØ§ Ù…Ù† Ù‚ØªÙ„ Ø¨Ø¹Ø¶Ù‡Ù… Ø§Ù„Ø¨Ø¹Ø¶
            if (gameState.gamePhase === 'night' && gameState.currentRoleAction === 'mafia') {
                if (player.role === 'mafia' || player.role === 'godfather') {
                    showMessage('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù‚ØªÙ„ Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§');
                    return;
                }
            }
            
            gameState.selectedPlayer = playerId;
            updateGamePlayersGrid();
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡
        function submitAction() {
            if (!gameState.selectedPlayer) {
                showMessage('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù„Ø§Ø¹Ø¨ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            if (gameState.gamePhase === 'night') {
                handleNightAction();
            } else {
                handleDayAction();
            }
        }

        // ØªØ®Ø·ÙŠ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡
        function skipAction() {
            if (gameState.gamePhase === 'night') {
                switch (gameState.currentRoleAction) {
                    case 'mafia':
                        gameState.killedTonight = null;
                        gameState.currentRoleAction = 'doctor';
                        showMessage('â­ï¸ ØªØ®Ø·Øª Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ù‚ØªÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ù„ÙŠÙ„Ø©');
                        break;
                    case 'doctor':
                        gameState.savedTonight = null;
                        gameState.currentRoleAction = 'detective';
                        showMessage('â­ï¸ ØªØ®Ø·Ù‰ Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ø¥Ù†Ù‚Ø§Ø° Ù‡Ø°Ù‡ Ø§Ù„Ù„ÙŠÙ„Ø©');
                        break;
                    case 'detective':
                        gameState.investigatedTonight = null;
                        clearInterval(gameState.timerInterval);
                        startDayPhase();
                        return;
                }
                
                gameState.selectedPlayer = null;
                updateGamePhaseUI();
            } else if (gameState.gamePhase === 'day') {
                switch (gameState.currentRoleAction) {
                    case 'discussion':
                        clearInterval(gameState.timerInterval);
                        gameState.currentRoleAction = 'voting';
                        updateGamePhaseUI();
                        startTimer(45);
                        break;
                    case 'voting':
                        clearInterval(gameState.timerInterval);
                        applyVotingResults();
                        break;
                    case 'sniper':
                        clearInterval(gameState.timerInterval);
                        startNightPhase();
                        return;
                }
            }
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù„ÙŠÙ„
        function handleNightAction() {
            switch (gameState.currentRoleAction) {
                case 'mafia':
                    gameState.killedTonight = gameState.selectedPlayer;
                    gameState.currentRoleAction = 'doctor';
                    showMessage(`âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${getPlayerName(gameState.selectedPlayer)} ÙƒÙ‡Ø¯Ù Ù„Ù„Ù‚ØªÙ„`);
                    break;
                    
                case 'doctor':
                    gameState.savedTonight = gameState.selectedPlayer;
                    gameState.currentRoleAction = 'detective';
                    showMessage(`âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${getPlayerName(gameState.selectedPlayer)} Ù„Ù„Ø¥Ù†Ù‚Ø§Ø°`);
                    break;
                    
                case 'detective':
                    gameState.investigatedTonight = gameState.selectedPlayer;
                    const investigatedPlayer = gameState.players.find(p => p.id === gameState.investigatedTonight);
                    if (investigatedPlayer) {
                        const isMafia = investigatedPlayer.role === 'mafia' || investigatedPlayer.role === 'godfather';
                        const result = isMafia ? 'Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§' : 'Ù„ÙŠØ³ Ù…Ù† Ø§Ù„Ù…Ø§ÙÙŠØ§';
                        showMessage(`ğŸ•µï¸ Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù‚ÙŠÙ‚: ${investigatedPlayer.name} ${result}`, 'warning');
                    }
                    clearInterval(gameState.timerInterval);
                    startDayPhase();
                    return;
            }
            
            gameState.selectedPlayer = null;
            updateGamePhaseUI();
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø±
        function handleDayAction() {
            switch (gameState.currentRoleAction) {
                case 'voting':
                    if (!gameState.votes[gameState.selectedPlayer]) {
                        gameState.votes[gameState.selectedPlayer] = 0;
                    }
                    gameState.votes[gameState.selectedPlayer]++;
                    
                    gameState.votedPlayers.add(gameState.selectedPlayer);
                    
                    showMessage(`âœ… ØªÙ… Ø§Ù„ØªØµÙˆÙŠØª Ø¹Ù„Ù‰ ${getPlayerName(gameState.selectedPlayer)}`);
                    
                    const alivePlayers = gameState.players.filter(p => p.alive);
                    if (gameState.votedPlayers.size >= alivePlayers.length) {
                        applyVotingResults();
                        return;
                    }
                    break;
                    
                case 'sniper':
                    if (gameState.sniperBullet) {
                        const targetPlayer = gameState.players.find(p => p.id === gameState.selectedPlayer);
                        if (targetPlayer) {
                            targetPlayer.alive = false;
                            gameState.sniperBullet = false;
                            
                            gameState.dayResults.push({
                                type: 'sniper',
                                player: targetPlayer.name,
                                role: getRoleName(targetPlayer.role)
                            });
                            
                            showMessage(`ğŸ¯ Ø£Ø·Ù„Ù‚ Ø§Ù„Ù‚Ù†Ø§Øµ Ø§Ù„Ù†Ø§Ø± Ø¹Ù„Ù‰ ${targetPlayer.name}`);
                            
                            if (checkGameEnd()) {
                                return;
                            }
                        }
                    }
                    clearInterval(gameState.timerInterval);
                    startNightPhase();
                    return;
            }
            
            gameState.selectedPlayer = null;
            updateGamePhaseUI();
        }

        // ØªØ·Ø¨ÙŠÙ‚ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØµÙˆÙŠØª
        function applyVotingResults() {
            let maxVotes = 0;
            let executedPlayer = null;
            
            for (const [playerId, votes] of Object.entries(gameState.votes)) {
                if (votes > maxVotes) {
                    maxVotes = votes;
                    executedPlayer = gameState.players.find(p => p.id === parseInt(playerId));
                }
            }
            
            if (executedPlayer && maxVotes > 0) {
                executedPlayer.alive = false;
                
                gameState.dayResults.push({
                    type: 'voted',
                    player: executedPlayer.name,
                    role: getRoleName(executedPlayer.role)
                });
                
                showMessage(`ğŸ”¨ ØªÙ… Ø¥Ø¹Ø¯Ø§Ù… ${executedPlayer.name} (${getRoleName(executedPlayer.role)})`);
                
                if (checkGameEnd()) {
                    return;
                }
                
                showDayResults();
            } else {
                const sniper = gameState.players.find(p => p.role === 'sniper' && p.alive);
                if (sniper && gameState.sniperBullet) {
                    gameState.currentRoleAction = 'sniper';
                    updateGamePhaseUI();
                    startTimer(45);
                } else {
                    clearInterval(gameState.timerInterval);
                    startNightPhase();
                }
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
        function startTimer(seconds) {
            gameState.timer = seconds;
            gameTimer.textContent = gameState.timer;
            
            clearInterval(gameState.timerInterval);
            gameState.timerInterval = setInterval(() => {
                gameState.timer--;
                gameTimer.textContent = gameState.timer;
                
                if (gameState.timer <= 0) {
                    clearInterval(gameState.timerInterval);
                    handleTimerEnd();
                }
            }, 1000);
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
        function handleTimerEnd() {
            if (gameState.gamePhase === 'night') {
                startDayPhase();
            } else {
                if (gameState.currentRoleAction === 'discussion') {
                    gameState.currentRoleAction = 'voting';
                    updateGamePhaseUI();
                    startTimer(45);
                } else if (gameState.currentRoleAction === 'voting') {
                    applyVotingResults();
                } else if (gameState.currentRoleAction === 'sniper') {
                    startNightPhase();
                }
            }
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function checkGameEnd() {
            const mafiaPlayers = gameState.players.filter(p => (p.role === 'mafia' || p.role === 'godfather') && p.alive);
            const citizenPlayers = gameState.players.filter(p => p.role !== 'mafia' && p.role !== 'godfather' && p.alive);
            
            if (mafiaPlayers.length === 0) {
                showMessage('ğŸ‰ ÙÙˆØ² Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†! ØªÙ… Ø§Ù„Ù‚Ø¶Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø§ÙÙŠØ§', 'success');
                endGame();
                return true;
            }
            
            if (mafiaPlayers.length >= citizenPlayers.length) {
                showMessage('ğŸ’€ ÙÙˆØ² Ø§Ù„Ù…Ø§ÙÙŠØ§! Ø³ÙŠØ·Ø±Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù„Ø¯Ø©', 'error');
                endGame();
                return true;
            }
            
            return false;
        }

        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function endGame() {
            clearInterval(gameState.timerInterval);
            showSection('setup');
            gameState.players.forEach(player => {
                player.alive = true;
            });
            gameState.sniperBullet = true;
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨
        function getPlayerName(playerId) {
            const player = gameState.players.find(p => p.id === playerId);
            return player ? player.name : '';
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±
        function getRoleName(roleId) {
            const character = characters.find(c => c.id === roleId);
            return character ? character.name : '';
        }

        // Ø¹Ø±Ø¶ Ù‚Ø³Ù… Ù…Ø¹ÙŠÙ†
        function showSection(sectionName) {
            setupSection.classList.add('hidden');
            handoverSection.classList.add('hidden');
            roleDisplaySection.classList.add('hidden');
            gameSection.classList.add('hidden');
            resultsSection.classList.add('hidden');
            
            switch(sectionName) {
                case 'setup':
                    setupSection.classList.remove('hidden');
                    break;
                case 'handover':
                    handoverSection.classList.remove('hidden');
                    break;
                case 'roleDisplay':
                    roleDisplaySection.classList.remove('hidden');
                    break;
                case 'game':
                    gameSection.classList.remove('hidden');
                    break;
                case 'results':
                    resultsSection.classList.remove('hidden');
                    break;
            }
            
            gameState.currentSection = sectionName;
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
        function playSound(type) {
            if (!gameState.soundEnabled) return;
            
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            let frequency = 800;
            let duration = 0.1;
            
            switch(type) {
                case 'add':
                    frequency = 1000;
                    break;
                case 'remove':
                    frequency = 600;
                    break;
                case 'start':
                    frequency = 1200;
                    duration = 0.3;
                    break;
                case 'success':
                    frequency = 1500;
                    duration = 0.2;
                    break;
            }
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØª
        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            soundToggle.innerHTML = `<i class="fas fa-volume-${gameState.soundEnabled ? 'up' : 'mute'}"></i>`;
        }

        // Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function saveGame() {
            const gameData = {
                players: gameState.players,
                settings: {
                    soundEnabled: gameState.soundEnabled
                },
                rolesAssigned: gameState.rolesAssigned
            };
            localStorage.setItem('mafiaGame', JSON.stringify(gameData));
            showMessage('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function loadGame() {
            const saved = localStorage.getItem('mafiaGame');
            if (saved) {
                const gameData = JSON.parse(saved);
                gameState.players = gameData.players || [];
                gameState.soundEnabled = gameData.settings?.soundEnabled ?? true;
                gameState.rolesAssigned = gameData.rolesAssigned || false;
                updatePlayerList();
                updateUI();
                
                showMessage('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                showMessage('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù„Ø¹Ø¨Ø© Ù…Ø­ÙÙˆØ¸Ø©');
            }
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†
        function showOnlineMessage() {
            showMessage('ğŸ® Ø®Ø§ØµÙŠØ© Ø§Ù„Ù„Ø¹Ø¨ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù‚Ø±ÙŠØ¨Ø§Ù‹!');
        }

        // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        function showGameInfo() {
            document.getElementById('infoModal').style.display = 'flex';
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
        function showMessage(text, type = 'success') {
            const message = document.createElement('div');
            message.className = `message ${type}`;
            message.textContent = text;
            document.body.appendChild(message);
            
            setTimeout(() => {
                message.remove();
            }, 3000);
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUI() {
            soundToggle.innerHTML = `<i class="fas fa-volume-${gameState.soundEnabled ? 'up' : 'mute'}"></i>`;
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        initGame();

        // Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…ØªØ§Ø­Ø© globally
        window.removePlayer = removePlayer;
        window.showGameInfo = showGameInfo;
    </script>
</body>
</html>